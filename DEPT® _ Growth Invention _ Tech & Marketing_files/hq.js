(function(n){n._obq=[];n._init=function(){for(let n=0;n<this._obq.length;n++)this._obq[n].call(this);const n=new Event("sopro.loaded"),t=new Event("outbase.loaded");window.dispatchEvent(n);window.dispatchEvent(t)};n._log=function(n){console.debug(n)};n.logVisit=function(){function y(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n=>(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16))}function p(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function h(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function tt(n,t,i){var r=new XMLHttpRequest;r.open("POST",n,!0);r.setRequestHeader("Content-Type","application/json");r.onreadystatechange=function(){r.readyState===4&&(r.status>=200&&r.status<300?i(null,JSON.parse(r.responseText)):i(new Error("Request failed with status: "+r.status),null))};r.onerror=function(){i(new Error("Network error occurred"),null)};r.send(JSON.stringify(t))}function c(n,t){var i=new XMLHttpRequest;i.open("POST",n,!0);i.setRequestHeader("Content-type","application/json");i.onreadystatechange=function(){i.readyState==4&&i.status==200};i.send(JSON.stringify(t))}var a,l,v,b,n;let f=!0;document.addEventListener("visibilitychange",function(n){f=!f;console.debug(n)});let o=window.location.search,w=new URLSearchParams(o),i="_obid",r=undefined;if(o!=undefined&&o!=""&&w!=undefined&&o.includes(i))r=w.get(i),navigator.cookieEnabled&&h(i,r,365);else{let n=p(i);n!=""&&(r=n,navigator.cookieEnabled&&h(i,r,365))}a=!1;let s=p(i+"_visit");if(l=!1,v=!1,a||r==undefined||r==null){if(!a){const i=window.location.origin+window.location.pathname;var k=!0,d=!1,g=!0,nt="https://sopro-personalisation.azurewebsites.net/iplookup",it=!1;if(!k||l||v||g)k&&g&&it&&(n={},n.WidgetId="9e5b5bff-504d-46ce-9fed-534c6d73ee44",n.IpAddress="49.36.116.62",n.ClientId="3414",n.PageUrl=i,n.IsAfterLimitTracking=!0,n.Referrer="https://www.google.com/",n.ReferrerSource="www.google.com",n.ReferrerProvider="Google",n.DeviceType="Other",n.OS="Windows 10",n.Browser="Firefox 146",n.Device="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:146.0) Gecko/20100101 Firefox/146.0",n.IsAfterLimitTracking=!0,c(nt,n));else{pagevisitid="0e65aefc-f00e-4ceb-bdab-69e40a7361cb";var t=1,u=0,e=0;let n=function(r){var s={},o;(t==1?(e=5e3,s.SecondsToIncrease=5,u+=5):t==2?(e=1e4,s.SecondsToIncrease=10,u+=10):t==3||t==4||t==5?(e=15e3,s.SecondsToIncrease=15,u+=15):t>=6&&u<300?(e=3e4,s.SecondsToIncrease=30,u+=30):(e=6e4,s.SecondsToIncrease=60,u+=60),s.PageVisitId=r,s.LastTimeSeen=new Date,s.IsAnonymous=!0,t>1&&f?c("https://anonymous-api.azurewebsites.net/WebIntent/PageVisitHeartBeat",s):t==1&&f&&(o={},o.WidgetId="9e5b5bff-504d-46ce-9fed-534c6d73ee44",o.IpAddress="49.36.116.62",o.ClientId="3414",o.PageVisitId=pagevisitid,o.WebChatScriptName="",o.IsWebchatActive=!1,o.PageUrl=i,o.Referrer="https://www.google.com/",o.ReferrerSource="www.google.com",o.ReferrerProvider="Google",o.DeviceType="Other",o.OS="Windows 10",o.Browser="Firefox 146",o.Device="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:146.0) Gecko/20100101 Firefox/146.0",tt(nt,o,function(n,t){n?console.error("Request failed:",n):(console.log("API Response:",t),outbase.prospect=t,t.company&&(d=t.company.isUnknown),o.IsWebchatActive&&!d&&reloadDataSession())})),t++,u>=3600)||setTimeout(n,e,pagevisitid)};pagevisitid!=undefined&&pagevisitid!=null&&pagevisitid!=""&&!1?n(pagevisitid):pagevisitid!=undefined&&pagevisitid!=null&&pagevisitid!=""&&setTimeout(n,5e3,pagevisitid)}}}else{l||(s==""?(s=y(),h(i+"_visit",s,.168)):h(i+"_visit",s,.168));let u=window.location.origin+window.location.pathname,t=y();if(b="https://weblytics.sopro.io/WebsiteWidget/PageVisit",n={},n.PageVisitId=t,n.VisitId=s,n.WidgetGuidId=r,n.WebSiteWidgetClientId="9e5b5bff-504d-46ce-9fed-534c6d73ee44",n.PageUrl=u,n.QueryString=o,n.Created=new Date,n.Referrer="https://www.google.com/",n.ReferrerSource="www.google.com",n.ReferrerProvider="Google",n.DeviceType="Other",n.OS="Windows 10",n.Browser="Firefox 146",n.Device="Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:146.0) Gecko/20100101 Firefox/146.0",!l&&!v){f&&c(b,n);let i=function(n){var t={};t.PageVisitId=n;t.LastTimeSeen=new Date;f&&c("https://weblytics.sopro.io/WebsiteWidget/PageVisitHeartBeat",t);setTimeout(i,5e3,n)};setTimeout(i,5e3,t)}}};n._obq.push(n.logVisit);n.validateWidget=function(){var u,r;let t=window.location.search,i=new URLSearchParams(t),n=undefined;if(t!=undefined&&t!=""&&i!=undefined&&(n=i.get("_validateobw")),!(n===undefined||n==null)){u="https://portal.sopro.io/websiteplugin/PluginVerified";r={};r.Id=n;var f=document.currentScript,e=new URLSearchParams(f.src.replace(/^[^\?]+\??/,"")),o=e.get("key");window.location="https://portal.sopro.io/websiteplugin/PluginVerified?Id="+o}};n._obq.push(n.validateWidget);n.validateWidget=function(){let t=window.location.search,i=new URLSearchParams(t),n=undefined;if(t!=undefined&&t!=""&&i!=undefined&&(n=i.get("_validateobw")),!(n===undefined||n==null))({}).Id=n,window.location="https://portal.sopro.io/websiteplugin/PluginVerified?Id="+n};n._obq.push(n.validateWidget)})(window.outbase);window.outbase._init()